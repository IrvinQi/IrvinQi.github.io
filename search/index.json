[{"content":"1 å¼•å…¥éŸ³ä¹æ’­æ”¾å™¨ ã€Aplayerå®˜æ–¹æ–‡æ¡£ã€‘\nï¼ˆ1ï¼‰åœ¨åšå®¢ä¸»ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶layouts\\partials\\footer\\custom.htmlï¼Œæ­¤æ–‡ä»¶ä¸ºStackä¸»é¢˜ä½œè€…ç•™ç»™æˆ‘ä»¬åŠ å…¥è‡ªå®šä¹‰ç»„ä»¶ç”¨çš„æ–‡ä»¶(å¯ä»¥æŸ¥çœ‹ä¸»é¢˜æºç åŒè·¯å¾„æ–‡ä»¶æ‰¾åˆ°)\nï¼ˆ2ï¼‰æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œå¼•å…¥å¯¹åº”çš„è„šæœ¬ï¼Œcssåˆ°custom.htmlä¸­ï¼Œé¡µé¢æœ€ä¸‹é¢å°±ä¼šå‡ºç°éŸ³ä¹æ’­æ”¾å™¨\n1 2 3 4 5 6 7 8 9 10 11 \u0026lt;!-- ã€custom.htmlã€‘ --\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css\u0026#34;\u0026gt; \u0026lt;div id=\u0026#34;aplayer\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; const ap = new APlayer({ container: document.getElementById(\u0026#39;aplayer\u0026#39;), audio: [] }); \u0026lt;/script\u0026gt; ï¼ˆ3ï¼‰ä¿®æ”¹ apå¯¹è±¡ é…ç½®ï¼Œæ”¹æˆå¸åº•æ¨¡å¼ 1 2 3 4 5 const ap = new APlayer({ ..., // å¸åº•æ¨¡å¼ fixed: true }); ï¼ˆ4ï¼‰å¡«å†™audioæ•°ç»„ï¼Œå¼•å…¥æ­Œæ›²ï¼Œå°é¢å’Œæ­Œè¯ lrcType çš„å€¼å…·ä½“çœ‹ã€æ–‡æ¡£ã€‘ æ­Œæ›²ï¼Œå°é¢ï¼Œæ­Œè¯æ”¯æŒè¿œç¨‹é“¾æ¥ or æœ¬åœ°è·¯å¾„ è‹¥æƒ³é€šè¿‡æœ¬åœ°è·¯å¾„å¼•å…¥ï¼Œè¯·å°†èµ„æºæ–‡ä»¶æ”¾åœ¨staticæ–‡ä»¶å¤¹ä¸‹ï¼Œé€šè¿‡hugoæ–¹æ³•{{ .Site.Home.Permalink }}ï¼Œè·å–ç½‘ç«™ä¸»è·¯å¾„æ¥æ‹¼æ¥æ–‡ä»¶è·¯å¾„ï¼Œè¿›è¡Œå¼•å…¥ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 const staticDir = {{ .Site.Home.Permalink }} const ap = new APlayer({ ..., lrcType: 3, audio: [ { name: \u0026#39;name\u0026#39;, // æ­Œå artist: \u0026#39;artist\u0026#39;, // æ­Œæ‰‹ url: \u0026#39;url.mp3\u0026#39;, // æ­Œæ›²è·¯å¾„ cover: \u0026#39;cover.jpg\u0026#39;, // å°é¢è·¯å¾„ lrc: \u0026#39;lrc.lrc\u0026#39;, // æ­Œè¯è·¯å¾„ }, { // æœ¬åœ°è·¯å¾„å¼•å…¥å†™æ³•ï¼ˆæœ‰å­ç›®å½•å°±åœ¨staticDiråé¢ç»§ç»­æ‹¼æ¥ï¼‰ name: \u0026#39;name\u0026#39;, artist: \u0026#39;artist\u0026#39;, url: staticDir + \u0026#39;url.mp3\u0026#39;, cover: staticDir + \u0026#39;cover.jpg\u0026#39;, lrc: staticDir + \u0026#39;lrc.lrc\u0026#39;, } ] }); 2 éŸ³ä¹æ’­æ”¾å™¨æ ·å¼åˆ‡æ¢ ï¼ˆ1ï¼‰é€šè¿‡é˜…è¯»Stackä¸»é¢˜çš„æºç å¯ä»¥çœ‹åˆ°ï¼Œä¸»é¢˜æ ·å¼çš„åˆ‡æ¢æ˜¯é€šè¿‡[data-scheme=\u0026quot;light/darck\u0026quot;] {...}\nï¼ˆ2ï¼‰æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‡†å¤‡ä¸¤ç§Aplayerçš„cssï¼Œç”¨[data-scheme=\u0026quot;light\u0026quot;]{ äº®çš„cssæ ·å¼ }åŒ…è£¹äº®çš„ï¼Œç”¨[data-scheme=\u0026quot;dark\u0026quot;]{ æš—çš„cssæ ·å¼ }åŒ…è£¹æš—çš„ï¼Œè¿™é‡Œç›´æ¥ç»™å„ä½å‡†å¤‡å¥½äº†\naplayer-light.scssï¼ˆCtrl+Sä¿å­˜ï¼‰ aplayer-dark.scssï¼ˆCtrl+Sä¿å­˜ï¼‰ ï¼ˆ3ï¼‰åœ¨åšå®¢ä¸»ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶assets\\scss\\custom.scssï¼Œæ­¤æ–‡ä»¶ä¸ºStackä¸»é¢˜ä½œè€…ç•™ç»™æˆ‘ä»¬åŠ å…¥è‡ªå®šä¹‰æ ·å¼ç”¨çš„æ–‡ä»¶(å¯ä»¥æŸ¥çœ‹ä¸»é¢˜æºç åŒè·¯å¾„æ–‡ä»¶æ‰¾åˆ°)\nï¼ˆ4ï¼‰å°†ä¸Šè¿°ä¸¤ä¸ªscssæ–‡ä»¶æ”¾åˆ°è·Ÿ custom.scssåŒç›®å½•ä¸‹ï¼Œå¹¶é€šè¿‡@importæ¥è¿›è¡Œå¼•å…¥æ–‡ä»¶\n1 2 3 4 5 /** * ã€custom.scssã€‘ */ @import \u0026#34;aplayer-light.scss\u0026#34;; @import \u0026#34;aplayer-dark.scss\u0026#34;; ï¼ˆ5ï¼‰å› ä¸ºéŸ³ä¹æ’­æ”¾å™¨çš„cssæ”¹ä¸ºæˆ‘ä»¬æœ¬åœ°æ–‡ä»¶å¼•å…¥äº†ï¼Œæ‰€ä»¥ custom.html ä¸­çš„linkæ ‡ç­¾å¯ä»¥å°†å®ƒæ³¨é‡Šæ‰æˆ–è€…åˆ æ‰äº† 3 éŸ³ä¹æ’­æ”¾è¿›åº¦ä¿ç•™ ï¼ˆ1ï¼‰å®ç°æ€è·¯ï¼šé¡µé¢åˆ‡æ¢å‰ï¼ŒæŠŠæ­Œæ›²çš„ æ­Œæ›²åºå·ï¼Œæ’­æ”¾æ—¶é•¿ï¼Œæ’­æ”¾çŠ¶æ€ è®°å½•ä¸‹æ¥ï¼›åœ¨é¡µé¢åˆ‡æ¢åŠ è½½å®Œä¹‹åï¼Œæˆ‘ä»¬è°ƒç”¨Aplayerçš„æ¥å£åˆ‡æ¢æ­Œæ›²ï¼Œè°ƒæ•´æ—¶é•¿ï¼Œå¹¶é€‰æ‹©æ’­æ”¾oræš‚åœ\nï¼ˆ2ï¼‰é€šè¿‡console.log(ap)æ‰“å°apå¯¹è±¡ï¼Œæˆ–è€…å®˜æ–¹æ–‡æ¡£ï¼Œå¯ä»¥æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„å‚æ•°\nlist.indexï¼šæ­Œæ›²åºå· audio.currentTimeï¼šæ’­æ”¾æ—¶é•¿ paused ï¼šæ’­æ”¾çŠ¶æ€ï¼ˆæ˜¯å¦æš‚åœï¼‰ ï¼ˆ3ï¼‰é€šè¿‡ã€å®˜æ–¹æ–‡æ¡£ã€‘å¯ä»¥æŸ¥æ‰¾åˆ°æˆ‘ä»¬éœ€è¦è°ƒç”¨çš„æ¥å£\nap.list.switch(index: number)ï¼šåˆ‡æ¢æ­Œæ›² ap.seek(time: number)ï¼šè°ƒæ•´æ—¶é•¿ ap.play()ï¼šæ’­æ”¾æ­Œæ›² ï¼ˆ4ï¼‰éœ€è¦çš„ä¸œè¥¿å·²ç»æ‰¾é½ï¼Œåªéœ€åœ¨ custom.html åŠ å…¥ä»¥ä¸‹ä»£ç å³å¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 \u0026lt;!-- ã€custom.htmlã€‘ --\u0026gt; ... \u0026lt;script\u0026gt; ... /** * é¡µé¢é”€æ¯å‰ç›‘å¬ */ window.onbeforeunload = () =\u0026gt; { // å°†æ’­æ”¾ä¿¡æ¯ç”¨å¯¹è±¡å°è£…ï¼Œå¹¶å­˜å…¥åˆ°localStorageä¸­ const playInfo = { index: ap.list.index, currentTime: ap.audio.currentTime, paused: ap.paused }; localStorage.setItem(\u0026#34;playInfo\u0026#34;, JSON.stringify(playInfo)); }; /** * é¡µé¢åŠ è½½åç›‘å¬ */ window.onload = () =\u0026gt; { // ä»localStorageå–å‡ºæ’­æ”¾ä¿¡æ¯ const playInfo = JSON.parse(localStorage.getItem(\u0026#34;playInfo\u0026#34;)); if (!playInfo) { return; } // åˆ‡æ¢æ­Œæ›² ap.list.switch(playInfo.index); // ç­‰å¾…500mså†æ‰§è¡Œä¸‹ä¸€æ­¥(åˆ‡æ¢æ­Œæ›²éœ€è¦ç‚¹æ—¶é—´ï¼Œä¸èƒ½ç«‹é©¬è°ƒæ­Œæ›²è¿›åº¦æ¡) setTimeout(() =\u0026gt; { // è°ƒæ•´æ—¶é•¿ ap.seek(playInfo.currentTime); // æ˜¯å¦æ’­æ”¾ if (!playInfo.paused) { ap.play() } }, 500); }; \u0026lt;/script\u0026gt; 4 å¼•å…¥PJAX 4.1 åŸºæœ¬å¼•å…¥ ï¼ˆ1ï¼‰PJAXä¸»è¦åˆ†ä¸ºä¸¤ä¸ªç‰ˆæœ¬ï¼Œå¸¦JQuery å’Œ ä¸å¸¦JQueryçš„ï¼Œä¸‹é¢æˆ‘æ¼”ç¤ºçš„æ˜¯ä¸å¸¦JQueryç‰ˆæœ¬çš„\nã€defunkt/jquery-pjaxã€‘ï¼ˆå¸¦JQueryï¼‰ ã€MoOx/pjaxã€‘ï¼ˆä¸å¸¦JQueryï¼‰ ï¼ˆ2ï¼‰åˆ†æé¡µé¢å…ƒç´ ï¼Œçœ‹å“ªäº›æ˜¯éœ€è¦æˆ‘ä»¬é‡æ–°åŠ è½½çš„ï¼Œå¯ä»¥å‘ç°æ˜¯å·¦ä¾§è¾¹æ ï¼Œä¸­é—´å†…å®¹ï¼Œå³ä¾§è¾¹æ \nï¼ˆ3ï¼‰æŸ¥çœ‹é¡µé¢æºä»£ç ï¼Œå¯ä»¥å‘ç°è¿™äº›å…ƒç´ éƒ½è¢«ä¸€ä¸ª\u0026lt;div class=\u0026quot;main-container\u0026quot;\u0026gt;...\u0026lt;/div\u0026gt;åŒ…è£¹ç€ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†è¿™å…ƒç´ å®šä¸ºè¦åˆ·æ–°çš„å¯¹è±¡\nï¼ˆ4ï¼‰æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œåœ¨ custom.html åŠ å…¥ä»¥ä¸‹ä»£ç æ¥å¼•å…¥PJAX 1 2 3 4 5 6 7 8 9 10 \u0026lt;!-- ã€custom.htmlã€‘ --\u0026gt; ... \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/pjax/pjax.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; var pjax = new Pjax({ selectors: [ \u0026#34;.main-container\u0026#34; ] }) \u0026lt;/script\u0026gt; 4.2 æ–‡ç« æ ·å¼ä¿®å¤ ï¼ˆ1ï¼‰éšä¾¿ç‚¹è¿›å…¶ä¸­ä¸€ç¯‡æ–‡ç« ï¼Œå¯ä»¥å‘ç°æ–‡ç« å†…å®¹çš„æ ·å¼ä¸¢å¤±ï¼Œç¼ºå°‘æ–‡ç« è¯¥æœ‰çš„è¾¹æ¡† ï¼ˆ2ï¼‰é€šè¿‡æ‰‹åŠ¨åˆ·æ–°ï¼Œå¯¹æ¯”é¡µé¢å…ƒç´ å‘ç°ï¼Œå†³å®šæ–‡ç« æ ·å¼çš„æ˜¯\u0026lt;body\u0026gt; æ ‡ç­¾ä¸­çš„classå: article-pageï¼Œå­˜åœ¨æ­¤classåå°±ä¼šè¯†åˆ«åˆ°æ–‡ç« è¯¥æœ‰çš„css ï¼ˆ3ï¼‰å› ä¸º\u0026lt;body\u0026gt;å†…åŒ…å«æ•´ä¸ªé¡µé¢çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬æˆ‘ä»¬çš„éŸ³ä¹æ’­æ”¾å™¨ï¼Œæ‰€ä»¥ä¸èƒ½è®©PJAXç›‘å¬\u0026lt;body\u0026gt;æ ‡ç­¾ é˜…è¯»å®˜æ–¹æ–‡æ¡£å‘ç°ï¼Œå®˜æ–¹æä¾›äº†æ•°æ®é¢„å¤„ç†æ–¹æ³•ï¼Œè®©æˆ‘ä»¬å¤„ç†æ•°æ® æˆ‘ä»¬é€šè¿‡é¢„å¤„ç†æ•°æ®ï¼Œè·å–åˆ°æ–°é¡µé¢çš„classNameï¼Œç„¶åæˆ‘ä»¬æ‰‹åŠ¨å°†è¿™classNameè®¾ç½®åˆ°\u0026lt;body\u0026gt;ä¸Š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 \u0026lt;!-- ã€custom.htmlã€‘ --\u0026gt; ... \u0026lt;script\u0026gt; ... pjax._handleResponse = pjax.handleResponse; pjax.handleResponse = function(responseText, request, href, options) { if (request.responseText.match(\u0026#34;\u0026lt;html\u0026#34;)) { // å°†æ–°é¡µé¢çš„htmlå­—ç¬¦ä¸²è§£ææˆDOMå¯¹è±¡ let newDom = new DOMParser().parseFromString(responseText, \u0026#39;text/html\u0026#39;); // è·å–æ–°é¡µé¢ä¸­bodyçš„classNameï¼Œå¹¶è®¾ç½®å›å½“å‰é¡µé¢ let bodyClass = newDom.body.className; document.body.setAttribute(\u0026#34;class\u0026#34;, bodyClass) // æ”¾è¡Œï¼Œäº¤ç»™pjaxè‡ªå·±å¤„ç† pjax._handleResponse(responseText, request, href, options); } else { // handle non-HTML response here } } \u0026lt;/script\u0026gt; è¿™æ ·æˆ‘ä»¬åˆ‡é¡µé¢åï¼Œéƒ½ä¼šè‡ªåŠ¨æŠŠbodyä¸­çš„classNameæ›´æ–°ï¼Œå°±ä¸ä¼šä¸¢å¤±æ ·å¼äº†\n4.3 ä¸»é¢˜åˆ‡æ¢ä¿®å¤ ï¼ˆ1ï¼‰å½“æˆ‘ä»¬åˆ‡æ¢é¡µé¢åï¼Œç‚¹å‡»å·¦ä¸‹è§’åˆ‡æ¢ä¸»é¢˜é¢œè‰²çš„æŒ‰é’®ï¼Œä¼šå‘ç°æ²¡æœ‰æ•ˆæœï¼Œä¸»é¢˜é¢œè‰²åˆ‡æ¢å¤±æ•ˆäº†\nï¼ˆ2ï¼‰é˜…è¯»Stackä¸»é¢˜æºç \\assets\\ts\\colorScheme.tså‘ç°ï¼Œåœ¨è„šæœ¬åˆå§‹åŒ–æ—¶ï¼Œä¼šç»™å…ƒç´ ç»‘å®šä¸€ä¸ªç‚¹å‡»äº‹ä»¶ã€‚ä½†å› ä¸ºé¡µé¢åˆ‡æ¢äº†ï¼Œæ›¿æ¢äº†è¯¥å…ƒç´ ï¼Œä½†è¯¥å…ƒç´ æ²¡æœ‰é‡æ–°ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå¯¼è‡´ç‚¹å‡»ä¸»é¢˜åˆ‡æ¢å¤±æ•ˆ\nï¼ˆ3ï¼‰è§£å†³æ€è·¯ï¼šåœ¨PJAXåˆ‡æ¢å®Œé¡µé¢åï¼Œé‡æ–°æ‰§è¡Œä¸€écolorScheme.tsçš„åˆå§‹åŒ–ï¼Œä½¿å…ƒç´ é‡æ–°ç»‘å®šç‚¹å‡»äº‹ä»¶ã€‚\né˜…è¯»æºç ï¼Œå‘ç°colorScheme.tsè¢«main.tså¼•ç”¨ï¼Œåœ¨main.tsä¸­æ‰§è¡Œäº†åˆå§‹åŒ–ï¼Œå¹¶ä¸”main.tsç”Ÿæˆäº†ä¸ªå…¨å±€å˜é‡ Stack\næ‰€ä»¥åœ¨PJAXæ‰§è¡Œå®Œåï¼Œä½¿ç”¨å…¨å±€å˜é‡ Stack ï¼Œæ‰§è¡Œé‡Œé¢çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œé‡æ–°æ‰§è¡Œä¸€éè„šæœ¬ï¼Œæ¥ç»‘å®šç‚¹å‡»äº‹ä»¶\né˜…è¯»PJAXæ–‡æ¡£ï¼Œå‘ç°å®˜æ–¹ä¹Ÿæä¾›äº†PJAXæ‰§è¡Œå®Œåçš„äº‹ä»¶ï¼Œæˆ‘ä»¬æ‰§è¡Œç›‘å¬è¿™ä¸ªäº‹ä»¶ï¼ŒStack æ‰§è¡Œåˆå§‹åŒ–å°±å¥½\n1 2 3 4 5 6 7 8 9 \u0026lt;!-- ã€custom.htmlã€‘ --\u0026gt; ... \u0026lt;script\u0026gt; ... document.addEventListener(\u0026#39;pjax:complete\u0026#39;, () =\u0026gt; { // Stackè„šæœ¬åˆå§‹åŒ– window.Stack.init(); }) \u0026lt;/script\u0026gt; 4.4 æ–‡ç« æœç´¢ä¿®å¤ ï¼ˆ1ï¼‰ä½¿ç”¨æ–‡ç« æœç´¢åŠŸèƒ½æ—¶ï¼Œè¾“å…¥å…³é”®è¯ï¼Œæ— ä»»ä½•æœç´¢è®°å½•ï¼Œæœç´¢åŠŸèƒ½å¤±æ•ˆ\nï¼ˆ2ï¼‰æŸ¥çœ‹layouts\\ts\\search.tsxæ–‡ä»¶ï¼Œå‘ç°æƒ…å†µå’Œä¸Šé¢çš„colorScheme.tsç±»ä¼¼ï¼Œå­˜åœ¨ç»‘å®šäº‹ä»¶\nï¼ˆ3ï¼‰è§£å†³æ€è·¯ç±»ä¼¼ä¸Šé¢çš„ï¼ŒæŠŠ search.tsx åˆå§‹åŒ–å†…å®¹ï¼Œå°è£…ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå¹¶æŠŠå‡½æ•° export å‡ºæ¥ï¼Œç”± main.ts å¼•å…¥è¿™ä¸ªå‡½æ•°ï¼Œå¹¶æ”¾åˆ° Stack.init() çš„æ–¹æ³•ä¸­ï¼Œåˆ©ç”¨æ­¤æ–¹æ³•æ¥é‡æ–°åˆå§‹åŒ–æœç´¢è„šæœ¬ - ï¼ˆä»¥ä¸‹æ“ä½œè¯·å¤åˆ¶åŒè·¯å¾„åŒåæ–‡ä»¶åˆ°è‡ªå·±ä¸»ç›®å½•ä¸‹ä¿®æ”¹ï¼Œä¸è¦åœ¨ä¸»é¢˜æºç ä¸­ä¿®æ”¹ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 /** * ã€search.tsxã€‘ * è®°å¾—æŠŠwindow.addEventListener(\u0026#39;load\u0026#39; ...è¿™éƒ¨åˆ†ä»£ç æ³¨é‡Šæ‰ * åˆå§‹åŒ–å·¥ä½œäº¤ç»™Stack.init()å¤„ç†äº†ï¼Œä¸éœ€è¦è¿™ä¸ªäº† */ ... function searchInit() { let search = document.querySelector(\u0026#39;.search-result\u0026#39;); if (search) { const searchForm = document.querySelector(\u0026#39;.search-form\u0026#39;) as HTMLFormElement, searchInput = searchForm.querySelector(\u0026#39;input\u0026#39;) as HTMLInputElement, searchResultList = document.querySelector(\u0026#39;.search-result--list\u0026#39;) as HTMLDivElement, searchResultTitle = document.querySelector(\u0026#39;.search-result--title\u0026#39;) as HTMLHeadingElement; new Search({ form: searchForm, input: searchInput, list: searchResultList, resultTitle: searchResultTitle, resultTitleTemplate: window.searchResultTitleTemplate }); } } export { searchInit } 1 2 3 4 5 6 7 8 9 10 11 12 /** * ã€main.tsã€‘ */ ... import { searchInit } from \u0026#34;ts/search\u0026#34;; let Stack = { init: () =\u0026gt; { ... // è°ƒç”¨searchè„šæœ¬åˆå§‹åŒ–æ–¹æ³• searchInit(); } } ï¼ˆ4ï¼‰tsx ç±»å‹çš„æ–‡ä»¶å¼•å…¥æ–¹å¼æœ‰ç‚¹ç‰¹æ®Šï¼Œéœ€è¦æˆ‘ä»¬ä¿®æ”¹ä»¥ä¸‹ main.ts çš„å¼•å…¥æ–¹å¼ï¼Œä¿®æ”¹layouts\\partials\\footer\\components\\script.htmlï¼Œæ”¹æ³•å‚è€ƒlayouts\\page\\search.htmlï¼ŒæŠŠ\u0026quot;JSXFactory\u0026quot; \u0026quot;createElement\u0026quot;è¡¥å……ä¸Šå°±å¥½ 4.5 æœç´¢å†…å®¹è·³è½¬ä¿®å¤ ï¼ˆ1ï¼‰è™½ç„¶æ–‡ç« æœç´¢å·²ç»ä¿®å¤äº†ï¼Œä½†æœç´¢å‡ºæ¥çš„å†…å®¹å¹¶æ²¡æœ‰è¢«PJAXè¯†åˆ«åˆ°ï¼Œå¯¼è‡´PJAXæ²¡æœ‰æ‹¦æˆªï¼Œè¿›è€Œå¯¼è‡´é¡µé¢åˆ·æ–°äº† ï¼ˆ2ï¼‰é˜…è¯» search.tsx æºç å¯çŸ¥ï¼Œæœç´¢å†…å®¹çš„æ•°æ®ï¼Œæ˜¯é€šè¿‡ React.render() ï¼ŒåŠ¨æ€æ¸²æŸ“å›é¡µé¢çš„ï¼Œè¿™äº›åŠ¨æ€æ•°æ®æ²¡æœ‰è¢«PJAXè¯†åˆ«åˆ°ã€‚é˜…è¯»PJAXæ–‡æ¡£ï¼Œå®˜æ–¹æä¾›ç»™äº†æˆ‘ä»¬é‡æ–°è§£ææ•°æ®çš„æ–¹æ³•ï¼Œæ‰€ä»¥åœ¨ React.render() ä¹‹åï¼Œè°ƒç”¨PJAXæ–¹æ³•ï¼Œé‡æ–°è§£æé¡µé¢å³å¯ 1 2 3 4 5 6 7 8 9 10 11 12 /** * ã€search.tsxã€‘ */ private async doSearch(keywords: string[]) { ... /* æ–¹æ³•æœ«å°¾ï¼Œè®©pjaxé‡æ–°è§£ææ–‡æ¡£æ•°æ®ï¼Œè¯†åˆ«åŠ¨æ€æ¸²æŸ“çš„æ•°æ® è™½ç„¶å½“å‰æ–‡ä»¶æ²¡æœ‰pjaxå¯¹è±¡ï¼Œä½†æœ€åé™æ€é¡µé¢ä¼šç”Ÿæˆä¸€ä¸ªæ•´ä½“çš„jsæ–‡ä»¶ pjaxå¯¹è±¡é‚£æ—¶å°±èƒ½è¯†åˆ«åˆ°ï¼Œå°±å¯æˆåŠŸè°ƒç”¨ */ pjax.refresh(document); } è¿™æ ·åŠ¨æ€æ¸²æŸ“å‡ºçš„é¡µé¢æ•°æ®å°±èƒ½è¢«PJAXè¯†åˆ«åˆ°ï¼Œå°±ä¸ä¼šåˆ·æ–°é¡µé¢è·³è½¬äº†\n4.6 æ–‡ç« è¯„è®ºä¿®å¤ ï¼ˆ1ï¼‰å¦‚æœåšå®¢æœ‰å¼€å¯è¯„è®ºåŠŸèƒ½çš„è¯ï¼Œä¼šå‘ç°è¯„è®ºçš„è„šæœ¬ä¸ç”Ÿæ•ˆäº† ï¼ˆ2ï¼‰ç”±äºæ¯ä¸ªäººä½¿ç”¨çš„è¯„è®ºç§ç±»å„ä¸ç›¸åŒï¼Œæ‰€ä»¥è¿™è¾¹ä¹Ÿæ˜¯ç®€å•è¯´ä¸€ä¸‹ã€‚PJAXå®˜æ–¹æ–‡æ¡£ä¹Ÿæœ‰è¯´å¦‚ä½•å¤„ç†ï¼š ç”¨ä¸€ä¸ª\u0026lt;div class=js-Pjax\u0026gt;\u0026lt;/div\u0026gt;æ¥åŒ…è£¹ä¸€ä¸ª\u0026lt;script\u0026gt;\u0026lt;/script\u0026gt; åœ¨\u0026lt;script\u0026gt;æ ‡ç­¾ä¸­ï¼Œé€šè¿‡document.createElement('script')å½¢å¼ï¼Œåˆ›å»ºå¯¹åº”çš„è¯„è®ºè„šæœ¬å†…å®¹ pjaxå¯¹è±¡é€šè¿‡ .js-Pjax è¢«è¯†åˆ«åˆ°æ­¤å†…å®¹ï¼Œè¿›è¡Œè„šæœ¬æ‰§è¡Œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 \u0026lt;!-- custom.thml --\u0026gt; ... \u0026lt;script\u0026gt; var pjax = new Pjax({ selectors: [ ... \u0026#34;.js-Pjax\u0026#34; ] }) \u0026lt;/script\u0026gt; \u0026lt;div class=\u0026#34;js-Pjax\u0026#34;\u0026gt; \u0026lt;script\u0026gt; // TODO: åˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯æ–‡æ¡£ï¼Œä¸”æ˜¯å¦å¼€å¯è¯„è®ºåŠŸèƒ½ (function() { let script = document.createElement(\u0026#39;script\u0026#39;); // å°†å¯¹åº”è¯„è®ºçš„è„šæœ¬å†…å®¹å¡«è¿›å» script.setAttribute(\u0026#39;key\u0026#39;, \u0026#39;value\u0026#39;); ... // å¯»æ‰¾åˆé€‚çš„å…ƒç´ ï¼Œæ·»åŠ è„šæœ¬è¿›å» document.querySelector(\u0026#39;xxx\u0026#39;).appendchild(script) })(document) \u0026lt;/script\u0026gt; \u0026lt;div\u0026gt; 5 å¼•å…¥è¿›åº¦æ¡ ï¼ˆ1ï¼‰ç”±äºä½¿ç”¨äº†PJAXåï¼Œæ— æ³•å¾—çŸ¥é¡µé¢çš„åŠ è½½æƒ…å†µæ˜¯å¦å®Œæˆï¼Œæ‰€ä»¥å¼•å…¥ä¸€ä¸ªä¼ªè¿›åº¦æ¡ï¼Œæ¥æ˜¾ç¤ºé¡µé¢å†…å®¹è¿›åº¦ ï¼ˆ2ï¼‰å‰å¾€ã€topbarã€‘ï¼Œç‚¹å‡»ä¸‹è½½zipåŒ…ï¼Œå°†è§£å‹åçš„ topbar.min.js æ”¾åˆ°assets\\js\\topbar.min.js ï¼ˆ3ï¼‰é€šè¿‡ç›‘å¬PJAXä¸¤ä¸ªäº‹ä»¶ pjax:send å’Œ pjax:complete å®ç°ä¼ªè¿›åº¦æ¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 \u0026lt;!--custom.html--\u0026gt; ... {{ with resources.Get \u0026#34;js/topbar.min.js\u0026#34; }} \u0026lt;!-- å¼•å…¥æœ¬åœ°JSè„šæœ¬ --\u0026gt; \u0026lt;script src={{ .Permalink }}\u0026gt;\u0026lt;/script\u0026gt; {{ end }} \u0026lt;script\u0026gt; // ä¿®æ”¹è¿›åº¦æ¡é¢œè‰² topbar.config({ barColors: { \u0026#39;0\u0026#39;: \u0026#39;rgba(255, 255, 255, 1)\u0026#39;, // è¿›åº¦0%ç™½è‰² \u0026#39;1.0\u0026#39;: \u0026#39;rgba(0, 149, 234, 1)\u0026#39; // è¿›åº¦100%è“è‰² } }) document.addEventListener(\u0026#39;pjax:send\u0026#39;, () =\u0026gt; { // æ˜¾ç¤ºé¡¶éƒ¨è¿›åº¦æ¡ topbar.show(); }) document.addEventListener(\u0026#39;pjax:complete\u0026#39;, () =\u0026gt; { .... // éšè—é¡¶éƒ¨è¿›åº¦æ¡ topbar.hide(); }) \u0026lt;/script\u0026gt; è¿™æ ·ä¼ªè¿›åº¦æ¡å°±æˆåŠŸå¼•å…¥äº†ï¼Œèƒ½å¤§æ¦‚çŸ¥é“é¡µé¢çš„åŠ è½½æƒ…å†µäº†\n","date":"2025-01-18T19:10:13+08:00","image":"https://IrvinQi.github.io/p/hugoaplayer--pjax/APlayer_hu8840407507704973113.png","permalink":"https://IrvinQi.github.io/p/hugoaplayer--pjax/","title":"ã€Hugoã€‘APlayer + PJAX "},{"content":"å¡å·´æ–¯åŸºç½‘ç»œå¨èƒåœ°å›¾ å¡å·´æ–¯åŸºç½‘ç»œå¨èƒåœ°å›¾æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒæä¾›äº†å®æ—¶çš„å…¨çƒç½‘ç»œå®‰å…¨æ€åŠ¿ä¿¡æ¯ï¼Œå¸®åŠ©ç”¨æˆ·äº†è§£ä¸åŒåœ°åŒºçš„å¨èƒåˆ†å¸ƒæƒ…å†µï¼Œå¹¶é‡‡å–ç›¸åº”çš„é˜²å¾¡æªæ–½ã€‚é€šè¿‡è¯¥åœ°å›¾ï¼Œç”¨æˆ·å¯ä»¥æ›´åŠ ç›´è§‚åœ°äº†è§£ç½‘ç»œå®‰å…¨é—®é¢˜çš„ä¸¥é‡æ€§ï¼Œä»è€ŒåŠ å¼ºè‡ªèº«çš„å®‰å…¨é˜²æŠ¤èƒ½åŠ›ã€‚\nç½‘å€ï¼šhttps://cybermap.kaspersky.com/cn\nPapers With Code Redditç”¨æˆ·rstojåšäº†ä¸€ä¸ªç½‘ç«™ï¼Œå°†ArXivä¸Šçš„æœ€æ–°æœºå™¨å­¦ä¹ è®ºæ–‡ä¸GitHubä¸Šçš„ä»£ç ï¼ˆTensorFlow/PyTorch/MXNet /ç­‰ï¼‰å¯¹åº”èµ·æ¥ã€‚ä½ å¯ä»¥æŒ‰æ ‡é¢˜å…³é”®è¯æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥æŒ‰æµè¡Œç¨‹åº¦ã€GitHubæ˜Ÿæ˜Ÿæ•°æ’åˆ—â€œçƒ­é—¨ç ”ç©¶â€ã€‚è¿™ä¸ªç½‘ç«™èƒ½è®©ä½ è·Ÿä¸ŠMLç¤¾åŒºæµè¡Œçš„æœ€æ–°åŠ¨æ€ã€‚\nç½‘å€ï¼šhttps://paperswithcode.com\ntophix ä¸€ä¸ªç»¼åˆæ€§å·¥å…·é›†åˆç«™ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›å¹¿æ³›çš„å·¥å…·å’Œèµ„æºï¼Œæ¶µç›–äº†å¤šä¸ªé¢†åŸŸå’Œéœ€æ±‚\nç½‘å€ï¼šhttps://tophix.com/zh-cn/\nAIå·¥å…·é›† ä¸€ä¸ªAIå·¥å…·æ•´åˆç½‘ç«™\nç½‘å€ï¼šhttps://ai-bot.cn/\n","date":"2025-01-18T00:00:00Z","image":"https://IrvinQi.github.io/p/%E8%AE%B0%E5%BD%95links%E6%9B%B4%E6%96%B0/wangluoweixie_hu4586245457379409747.png","permalink":"https://IrvinQi.github.io/p/%E8%AE%B0%E5%BD%95links%E6%9B%B4%E6%96%B0/","title":"è®°å½•ï¼šLinksæ›´æ–°"},{"content":"ä¿®æ”¹stackä¸»é¢˜ hugo.yaml\nbaseurlï¼š\né¡µé¢æ–‡ç« æ•°é‡ï¼š\npagination: pagerSize: 5\né»˜è®¤è¯­è¨€ï¼šç®€ä¸­\nDefaultContentLanguage: zh-cn\n#å¦‚æœDefaultContentLanguageåœ¨[zh-cn ja ko]ä¸­ï¼Œåˆ™å°†hasCJKLanguageè®¾ç½®ä¸ºtrue #è¿™å°†ä½¿ã€‚summaryå’Œã€‚wordcountåœ¨CJKè¯­è¨€ä¸­è¡¨ç°æ­£ç¡®ã€‚\nhasCJKLanguage: true\nlanguages: zh-cn: languageName: ç®€ä½“ä¸­æ–‡ title: Irvin-ç–æŸ’ weight: 1 params: sidebar: subtitle: çƒ­çˆ±å¯æŠµæ¼«é•¿å²æœˆï¼Œé£èµ·é£æ­¢æˆ‘éƒ½åœ¨ en: languageName: English title: Irvin-ç–æŸ’ weight: 2 params: sidebar: subtitle: Meeting is a sign, even if the outcome is not satisfactory. ja: languageName: ã«ã£ã½ã‚“ ã” # languagedirection: rtl title: Irvin-ç–æŸ’ weight: 3 params: sidebar: subtitle: èŠ±ã‚’ç€ã¦å±±æ²³ã‚’æ¸¡ã‚‹ã¨ã¤ã„ã«å›ã¨å‡ºä¼šã† ç½‘ç«™å›¾æ ‡\nfavicon: /favicon.ico e.g.: favicon placed in `static/favicon.ico` of your site folder, then set this field to `/favicon.ico` (`/` is necessary) è‡ªå®šä¹‰æ–‡æœ¬\ncustomText\nfooter: since: 2025 customText: æ—¥æœŸä¿®æ”¹\ndateFormat: published: 2006-01-02 ä¸ªäºº\nsidebar: emoji: ğŸ¥ subtitle: çƒ­çˆ±å¯æŠµæ¼«é•¿å²æœˆï¼Œé£èµ·é£æ­¢æˆ‘éƒ½åœ¨ avatar: enabled: true local: true src: img/my.jpg ","date":"2025-01-17T16:46:39+08:00","permalink":"https://IrvinQi.github.io/p/stackedit/","title":"Stackedit"},{"content":"","date":"2025-01-17T00:00:00Z","permalink":"https://IrvinQi.github.io/p/myfirstblog/","title":"MyFirstBlog"}]